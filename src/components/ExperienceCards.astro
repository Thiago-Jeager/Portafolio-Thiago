---
// filepath: d:\Santy\Proyectos\Astro\portafolio\src\components\ExperienceCard.astro
const { experience, index = 0, totalCards = 1 } = Astro.props;
---

<div class="experience-list-item flex items-center flex-row my-8">
  <!-- Logo -->
  <div class="experience-card-logo-div md:mr-4 mb-4 md:mb-0 ">
    <img
      class="experience-card-logo w-24 h-24 rounded-full shadow-xl object-contain border border-bg-secondary"
      src={`/Portafolio-Thiago/assets/img/${experience.logo_path}`}
      alt={experience.company}
      loading="lazy"
    />
  </div>
  <!-- Stepper -->
  <div class="experience-card-stepper relative flex flex-col items-center mr-4">
    <div
      class="w-5 h-5 rounded-full"
      style={`background-color: ${experience.color || "#d9dbdf"};`}
    >
    </div>
    {
      index !== totalCards - 1 && (
        <div class="w-1 h-35 bg-[#7F8DAA] absolute top-7" />
      )
    }
  </div>
  <!-- Card -->
  <div class="experience-card bg-primary rounded-lg border border-bg-primary flex-1 p-4">
    <div class="flex flex-col md:flex-row justify-between">
      <div>
        <h3 class=" text-center md:text-left text-lg font-bold">
          {experience.title}
        </h3>
        <p class="experience-card-company text-base">
          {
            experience.company_url ? (
              <a
                href={experience.company_url}
                target="_blank"
                rel="noopener noreferrer"
                class="underline hover:text-blue-600"
              >
                {experience.company}
              </a>
            ) : (
              experience.company
            )
          }
        </p>
      </div>
      <div class="experience-card-heading-right text-right">
        <p class="experience-card-duration text-sm text-gray-500">
          {experience.duration}
        </p>
        <p class="experience-card-location text-sm text-gray-500">
          {experience.location}
        </p>
      </div>
    </div>
    <div class="experience-card-description mt-3 text-justify">
      {experience.description}
    </div>
  </div>
</div>

<style is:global>
  .experience-accord {
    margin: 50px 0;
  }
  @media (max-width: 768px) {
    .experience-accord {
      margin: 20px 0;
    }
    .experience-list-item {
      flex-direction: column;
    }
    .experience-card-logo {
      width: 100px;
    }
    .experience-card-stepper {
      display: none;
    }
  }
</style>
